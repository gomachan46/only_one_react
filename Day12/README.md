# VirtualDOM

ヴァーチャル・ドム。強そう


# 嬉しいところ

賢く差分のあるところだけDOMを更新できるのでパフォーマンスが優れている！

Topレベルの要素にアプリケーションの状態を持たせておいてそれをsetStateでどんどん更新するという雑なアーキテクチャも可能になる！

サーバーサイドのレンダリングのよう！

DOMの介護を人間がしなくてもよしなにやってくれるよ、という感じかな。

なのでアプリケーションの実装が単純に出来る。

# VirtualDOMについて意識する場面

* key属性の指定
* パフォーマンス向上を目的にshouldComponentUpdateを実装する

# shouldComponentUpdate

実装されていない場合は常にrerenderするようになっている。

これを実装してfalseにすることでそのComponentを含むそれにぶら下がるComponentはrerenderされなくなる。

差分があるかどうかを計算する必要があるので、VirtualDOMで最低限のDOMしか更新しないとはいえコストがかかる。

それよりも対象のComponentのStateとPropの前後の状態を比較して差分が有るときだけComponentを更新しようとするほうがそりゃコストが低くなる。

まぁとりあえずは良いかな？